function Dialog(e,t,i,l){this.dialogEl=e,this.overlayEl=t,this.focusedElBeforeOpen;var o=this.dialogEl.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');this.focusableEls=Array.prototype.slice.call(o),this.firstFocusableEl=this.focusableEls[0],this.lastFocusableEl=this.focusableEls[this.focusableEls.length-1],this.elsToHide=document.querySelectorAll(".site-main, .site-header, .site-footer"),this.elsToHide=Array.prototype.slice.call(this.elsToHide),this.addEventListeners(i,l),this.close()}Dialog.prototype.open=function(){var e=this;this.dialogEl.removeAttribute("aria-hidden"),this.overlayEl.removeAttribute("aria-hidden");for(var t=0;t<this.elsToHide.length;t++)this.elsToHide[t].setAttribute("aria-hidden",!0);this.focusedElBeforeOpen=document.activeElement,this.dialogEl.addEventListener("keydown",function(t){e.handleKeyDown(t)}),this.overlayEl.addEventListener("click",function(){e.close()}),this.firstFocusableEl.focus()},Dialog.prototype.close=function(){for(var e=0;e<this.elsToHide.length;e++)this.elsToHide[e].removeAttribute("aria-hidden");this.dialogEl.setAttribute("aria-hidden",!0),this.overlayEl.setAttribute("aria-hidden",!0),this.focusedElBeforeOpen&&this.focusedElBeforeOpen.focus()},Dialog.prototype.handleKeyDown=function(e){function t(){document.activeElement===l.firstFocusableEl&&(e.preventDefault(),l.lastFocusableEl.focus())}function i(){document.activeElement===l.lastFocusableEl&&(e.preventDefault(),l.firstFocusableEl.focus())}var l=this,o=9,s=27;switch(e.keyCode){case o:if(1===l.focusableEls.length)return void e.preventDefault();e.shiftKey?t():i();break;case s:l.close()}},Dialog.prototype.addEventListeners=function(e,t){var i=this;if(e)for(var l=document.querySelectorAll(e),o=0;o<l.length;o++)l[o].addEventListener("click",function(){i.open()});if(t)for(var s=document.querySelectorAll(t),o=0;o<s.length;o++)s[o].addEventListener("click",function(){i.close()})};var momentDate=function(e){var t=e.split("-")[0],i=e.split("-")[1],l=e.split("-")[2],o=moment().year(t).month(i).date(l);return o=o.calendar(null,{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"[Next] dddd",lastDay:"[Yesterday]",lastWeek:"[Last] dddd",sameElse:"dddd Do MMMM"})};