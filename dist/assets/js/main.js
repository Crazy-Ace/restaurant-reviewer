function Dialog(e,t,l,o){this.dialogEl=e,this.overlayEl=t,this.focusedElBeforeOpen;var i=this.dialogEl.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');this.focusableEls=Array.prototype.slice.call(i),this.firstFocusableEl=this.focusableEls[0],this.lastFocusableEl=this.focusableEls[this.focusableEls.length-1],this.addEventListeners(l,o),this.close()}Dialog.prototype.open=function(){var e=this;this.dialogEl.removeAttribute("aria-hidden"),this.overlayEl.removeAttribute("aria-hidden"),this.focusedElBeforeOpen=document.activeElement,this.dialogEl.addEventListener("keydown",function(t){e.handleKeyDown(t)}),this.overlayEl.addEventListener("click",function(){e.close()}),this.firstFocusableEl.focus()},Dialog.prototype.close=function(){this.dialogEl.setAttribute("aria-hidden",!0),this.overlayEl.setAttribute("aria-hidden",!0),this.focusedElBeforeOpen&&this.focusedElBeforeOpen.focus()},Dialog.prototype.handleKeyDown=function(e){function t(){document.activeElement===o.firstFocusableEl&&(e.preventDefault(),o.lastFocusableEl.focus())}function l(){document.activeElement===o.lastFocusableEl&&(e.preventDefault(),o.firstFocusableEl.focus())}var o=this,i=9,s=27;switch(e.keyCode){case i:if(1===o.focusableEls.length)return void e.preventDefault();e.shiftKey?t():l();break;case s:o.close()}},Dialog.prototype.addEventListeners=function(e,t){for(var l=this,o=document.querySelectorAll(e),i=0;i<o.length;i++)o[i].addEventListener("click",function(){l.open()});for(var s=document.querySelectorAll(t),i=0;i<s.length;i++)s[i].addEventListener("click",function(){l.close()})};